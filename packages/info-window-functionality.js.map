{"version":3,"file":"info-window-functionality.js","mappings":"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","sources":["webpack://interactive-map/external window [\"wp\",\"domReady\"]","webpack://interactive-map/webpack/bootstrap","webpack://interactive-map/webpack/runtime/compat get default export","webpack://interactive-map/webpack/runtime/define property getters","webpack://interactive-map/webpack/runtime/hasOwnProperty shorthand","webpack://interactive-map/webpack/runtime/make namespace object","webpack://interactive-map/./src/info-window-functionality.js"],"sourcesContent":["module.exports = window[\"wp\"][\"domReady\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import domReady from '@wordpress/dom-ready';\n\ndomReady( function () {\n\n\tfunction positionInfoWindows() {\n\n\t\tconst elementsAsInfoWindowBounds = document.getElementsByClassName('is-info-window-bounds');\n\n\t\tfor ( const key in elementsAsInfoWindowBounds ) {\n\n\t\t\tif (Object.hasOwnProperty.call(elementsAsInfoWindowBounds, key)) {\n\n\t\t\t\tconst boundingElement = elementsAsInfoWindowBounds[key];\n\n\t\t\t\tconst {\n\t\t\t\t\tx: boundingElementX,\n\t\t\t\t\ty: boundingElementY,\n\t\t\t\t\twidth: boundingElementWidth,\n\t\t\t\t\theight: boundingElementHeight\n\t\t\t\t} = boundingElement.getBoundingClientRect();\n\n\t\t\t\tconst boundingElementCenter = {\n\t\t\t\t\tcx: boundingElementWidth / 2 + boundingElementX,\n\t\t\t\t\tcy: boundingElementHeight / 2 + boundingElementY\n\t\t\t\t}\n\n\t\t\t\tconst childrenWithInfoWindow = boundingElement.getElementsByClassName('has-info-window');\n\n\t\t\t\tfor (const key in childrenWithInfoWindow) {\n\n\t\t\t\t\tif (Object.hasOwnProperty.call(childrenWithInfoWindow, key)) {\n\n\t\t\t\t\t\tconst childElement = childrenWithInfoWindow[key];\n\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tx: childElementX,\n\t\t\t\t\t\t\ty: childElementY,\n\t\t\t\t\t\t\twidth: childElementWidth,\n\t\t\t\t\t\t\theight: childElementHeight\n\t\t\t\t\t\t} = childElement.getBoundingClientRect();\n\n\t\t\t\t\t\tconst childElementCenter = {\n\t\t\t\t\t\t\tcx: childElementWidth / 2 + childElementX,\n\t\t\t\t\t\t\tcy: childElementHeight / 2 + childElementY\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst infoWindow = document.getElementById(`info-window-for-${ childElement.id }`);\n\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\twidth: infoWindowWidth,\n\t\t\t\t\t\t\theight: infoWindowHeight\n\t\t\t\t\t\t} = infoWindow.getBoundingClientRect();\n\n\n\t\t\t\t\t\tif ( childElementCenter.cy > boundingElementCenter.cy ) {\n\n\t\t\t\t\t\t\tinfoWindow.style.bottom = (boundingElementY + boundingElementHeight) - childElementCenter.cy + \"px\";\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tinfoWindow.style.top = childElementCenter.cy - boundingElementY + \"px\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( childElementCenter.cx > boundingElementCenter.cx ) {\n\n\t\t\t\t\t\t\tinfoWindow.style.left = childElementCenter.cx - boundingElementX - infoWindowWidth + \"px\";\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tinfoWindow.style.left = childElementCenter.cx - boundingElementX + \"px\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tpositionInfoWindows();\n\twindow.addEventListener( 'resize', positionInfoWindows );\n\n\tconst elementsWithInfoWindow = document.getElementsByClassName('has-info-window');\n\n\tfunction showInfoWindow( id ) {\n\t\tconst infoWindow = document.getElementById(`info-window-for-${ id }`);\n\n\t\tif ( infoWindow ) {\n\t\t\tinfoWindow.classList.remove('screen-reader-text');\n\t\t}\n\t}\n\n\tfunction hideInfoWindow( id ) {\n\t\tconst infoWindow = document.getElementById(`info-window-for-${ id }`);\n\n\t\tif ( infoWindow ) {\n\t\t\tinfoWindow.classList.add('screen-reader-text');\n\t\t}\n\t}\n\n\tfor (const key in elementsWithInfoWindow) {\n\n\t\tif (Object.hasOwnProperty.call(elementsWithInfoWindow, key)) {\n\n\t\t\tconst element = elementsWithInfoWindow[key];\n\n\t\t\telement.addEventListener(\"mouseenter\", e => {\n\t\t\t\tshowInfoWindow( element.id );\n\t\t\t} );\n\n\t\t\telement.addEventListener(\"mouseleave\", e => {\n\t\t\t\thideInfoWindow( element.id );\n\t\t\t} );\n\n\t\t}\n\n\t}\n});\n"],"names":["domReady","positionInfoWindows","elementsAsInfoWindowBounds","document","getElementsByClassName","key","Object","hasOwnProperty","call","boundingElement","x","boundingElementX","y","boundingElementY","width","boundingElementWidth","height","boundingElementHeight","getBoundingClientRect","boundingElementCenter","cx","cy","childrenWithInfoWindow","childElement","childElementX","childElementY","childElementWidth","childElementHeight","childElementCenter","infoWindow","getElementById","id","infoWindowWidth","infoWindowHeight","style","bottom","top","left","window","addEventListener","elementsWithInfoWindow","showInfoWindow","classList","remove","hideInfoWindow","add","element","e"],"sourceRoot":""}